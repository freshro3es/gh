## ИС для вымышленной СТО ТонАвто

Данное приложение является информационной системой для выдуманной станции технического обслуживания ТонАвто.

## Функциональность

Система встречает пользователя экраном авторизации, где можно либо зайти в систему, либо можно зарегистрироваться, если пользователь новый.

![image](https://user-images.githubusercontent.com/104096803/209703758-357ed026-cb13-4687-8c1a-b47ff8750c8c.png)

После авторизации пользователь попадает в само приложение.

## Пользователи

В приложении реализованы три роли и три отдельные формы для данных ролей соответственно.
### Клиент

Базовый пользователь в системе. Именно такая роль присваивается пользователю, который зарегистрировался в приложении. Основные две функции пользователя - запись на обслуживание и отслеживание заказа.

![image](https://user-images.githubusercontent.com/104096803/209703249-bfece1ca-b478-4c60-a0b5-1f119b3c10ff.png)


### Администратор

Пользователь системы, основная задача которого состоит в приеме заявок на обслуживание. Также может заказывать детали для склада, добавлять детали в соответствующую базу данных. Помимо этого может менять роли у пользователей системы.

![image](https://user-images.githubusercontent.com/104096803/209702756-b2879150-a8ea-41f2-9cec-78bb80677fec.png)


### Механик

Тот, без кого и не было сервиса. Основная роль в системе - работа с заказом клиента. Механик может обновлять статус работ по заказу, а при выполнении всех работ завершает этот самый заказ.

![image](https://user-images.githubusercontent.com/104096803/209702987-48135511-e24f-4864-ab6f-7c8103c66560.png)

## Структура системы

### Система имеет 7 основных окон:
#### 1. Окно авторизации [LogInJFrame.java]
Это окно встречает пользователя при запуске приложения. Здесь можно ввести данные от аккаунта пользователя и попасть в само приложение, а также можно перейти на окно регистрации по ссылке
#### 2. Окно регистрации [RegistrationJFrame.java]
Создано для новых пользователей. Здесь можно создать новую учетную запись в системе. Как создают свою учетную запись механики и администраторы? Хороший вопрос, и у меня есть на него ответ: через админ-панель активный администратор может поменять роль любому пользователю системы (клиент, админ, механик). Естественно, самому себе он поменять роль не может. Даже через профиль (хоть там и есть такое поле)
#### 3. Окно клиента [ClientJForm.java]
Окно пользователя, ради удобства которого такие сайты (хотя в данном случае это приложение) и создаются. У всех пользователей в окнах есть главная страница системы и профиль (в котором, кстати, можно выйти из системы), поэтому перечислять каждый раз их я не буду. Клиент в своем окне может наблюдать две основные вкладки - вкладка создания заявки и просмотра своего заказа. В первой он может заполнить форму и отправить заявку на обслуживание, во второй же форме он может посмотреть все свои заказы, заявки и даже завершенные (если он вдруг забыл, зачем приезжал в автосервис в прошлый раз)
#### 4. Окно администратора [AdminFrame.java]
Окно самого главного пользователя системы. Именно из этого окна принимаются заявки пользователей, заказываются новые детали, а затем добавляются в БД склада. А еще именно этот пользователь наделяет всех правами. Кстати, администратор может не только принять заявку, но также и изменить ее содержание, так как предполагается, что перед формированием заказа клиент должен приехать в СТО и провести первичный технический осмотр. Мало ли что выдумал клент, у которого что-то застучало под капотом?
#### 5. Окно Механика [MechanicJFrame.java]
Окно человека, который непосредственно работает с автомобилями. Есть две основные вкладки, в одной он может посмотреть текущие заказы, после завершения работы может это отметить, а при необходимости во второй вкладке может обратиться к складу за запчастями, которые вчера пришли как раз для этого заказа. Когда же работа будет закончена, и заказ нужно будет завершить, именно механик это делает. Для защиты предусмотрено, что завершить заказ он может только тогда, когда вся работа выполнена
#### 6. Окно добавления детали [AddPartJFrame.java]
Дополнительное окно, в котором администратор заполняет сведения о добавляемой детали
#### 7. Окно заказа детали [AddPartOrderJFrame.java]
Дополнительное окно, в котором администратор заполняет сведения о заказываемой детали

### Получение данных и их запись в БД осуществляется через следующие классы:

#### 1. DataBase.java
Пришел в проект на середине его написания, когда нужно было реализовать работу с заказом клиента (отправка и прием заявки, а также работа механика над ним). Этот класс - попытка оторваться от конкретных таблиц и сделать универсальный класс для работы с БД. Вся работа с заказом клиента в коде осуществляется через этот класс, поэтому считаю, что попытка успешная. В будущем планирую переписать старый код так, чтобы остался только этот класс для работы с таблицами
#### 2. UserDB. java 
Содержит методы, работающие с таблицей "user"
#### 3. PartDB.java 
Содержит методы, работающие с таблицей part
#### 4. PartOrderDB.java 
Содержит методы, работающие с таблицей part_order

## База данных

Для реализации хранения данных в системе была использована следующа схема реляционной базы данных:

![image](https://user-images.githubusercontent.com/104096803/209701024-b015e612-1a21-479f-8b6e-98c3801c7ba6.png)

Проблемным местом данной базы данных являются детали. В следующем обновлении планируется доработать связь деталей с заказом.

## Косяки и недостатки проекта в данный момент

### Сервер

В данный момент сервер приложения просто не реализован, хотя работа в этом направлении активно ведется. Все запросы в базу данных исходят из отдельных классов, работающих только с БД, поэтому перенос этих самых классов на сервер пока лишь вопрос времени.

### Таблицы part и part_order

Для деталей и заказов деталей изначально были использованы две разных таблицы, хотя в ходе написания системы стало понятно, что лучше использовать одну со специальной колонкой статуса детали "На складе" или "Заказана". Есть также идея реализовать привязку деталей к работе, что логично, однако это требует дополнительного времени для реализации.

## Инсталляция и запуск
Для успешного запуска проекта необходима IDE, поддерживающая язык программирования Java и сервер PostgreSQL, в который приложение будет записывать данные.

Сперва нужно скачать проект, затем создать новую базу данных в pgAdmin, после чего изменить пароли и порты базы данных во всех файлах в пакете com.mycompany.gh.db для успешной работы приложения. Сделать это не сложно, потому что эти данные прописаны в общих переменных класса в самом его начале. 
После данного действия можно запустить приложение. В данный момент это осуществляется через компиляцию LogInJFrame.java, после чего появляется непосредственное окно авторизации.
